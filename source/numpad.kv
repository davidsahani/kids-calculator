#:import MDRaisedButton kivymd.uix.button.MDRaisedButton
#:import DelayedButton delayed_button.DelayedButton

<CalculatorButton@MDRaisedButton>:
    id: buttons
    style: 'CalculatorButton'
    size_hint: 1, 1
    font_size: sp(30)
    font_name: "fonts/DejaVuSans.ttf"

<DelayedButton>:
    id: buttons
    style: 'CalculatorButton'
    size_hint: 1, 1
    font_size: sp(30)
    font_name: "fonts/DejaVuSans.ttf"

<NumPad>:
    BoxLayout:
        orientation: 'vertical'

        GridLayout:
            cols: 4
            padding: [10, 10]
            spacing: [5, 5]
        
            CalculatorButton:
                text: 'CE'
                font_size: sp(25)
                on_release: app.clear()

            CalculatorButton:
                text: '%'
                font_size: sp(28)
                on_release: app.insert_operator('%')

            CalculatorButton:
                text: '\u232B'
                font_size: sp(22)
                on_release: app.erase_to_left()

            CalculatorButton:
                text: '÷'
                font_size: sp(35)
                on_release: app.insert_operator('/')

            CalculatorButton:
                text: '7'
                on_release: app.insert(self.text)

            CalculatorButton:
                text: '8'
                on_release: app.insert(self.text)

            CalculatorButton:
                text: '9'
                on_release: app.insert(self.text)

            CalculatorButton:
                text: '×'
                font_size: sp(32)
                on_release: app.insert_operator('*')

            CalculatorButton:
                text: '4'
                on_release: app.insert(self.text)

            CalculatorButton:
                text: '5'
                on_release: app.insert(self.text)

            CalculatorButton:
                text: '6'
                on_release: app.insert(self.text)

            CalculatorButton:
                text: '‒'
                font_size: sp(32)
                on_release: app.insert_operator('-')

            CalculatorButton:
                text: '1'
                on_release: app.insert(self.text)

            CalculatorButton:
                text: '2'
                on_release: app.insert(self.text)

            CalculatorButton:
                text: '3'
                on_release: app.insert(self.text)

            CalculatorButton:
                text: '+'
                font_size: sp(32)
                on_release: app.insert_operator('+')

            CalculatorButton:
                text: '+\–'
                on_release: app.insert_sign(self.text)

            CalculatorButton:
                text: '0'
                on_release: app.insert(self.text)

            CalculatorButton:
                text: '.'
                on_release: app.insert(self.text)

            DelayedButton:
                text: '='
                font_size: sp(32)
                on_release: app.calculate()
                on_long_press: app.screen.hide_num_pad()